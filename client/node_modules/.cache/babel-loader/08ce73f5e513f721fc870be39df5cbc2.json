{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ewart\\\\OneDrive\\\\Documents\\\\GitHub\\\\flightpub\\\\client\\\\src\\\\frontEnd\\\\components\\\\flights\\\\FlightList.js\",\n    _s = $RefreshSig$();\n\nimport FlightItem from './FlightItem';\nimport classes from './FlightList.module.css';\nimport Card from \"../ui/Card\";\nimport { useState } from \"react\";\nimport { useContext } from 'react';\nimport FlightPubContext from \"../../store/FlightPubContext\";\nimport DropdownList from \"react-widgets/DropdownList\";\nimport { Button } from \"@mui/material\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction FlightList(props) {\n  _s();\n\n  const context = useContext(FlightPubContext);\n  const [flightList, setFlightList] = useState([]);\n  const [returnFlightList, setReturnFlightList] = useState([]);\n  const [morningFilter, setMorningFilter] = useState(false);\n  const [afternoonFilter, setAfternoonFilter] = useState(false);\n  const [eveningFilter, setEveningFilter] = useState(false);\n  const [flightSelected, setFlightSelected] = useState(false);\n  const [selectedFlight, setSelectedFlight] = useState([]);\n  const [returnFlightSelected, setReturnFlightSelected] = useState(false);\n  const [selectedReturnFlight, setSelectedReturnFlight] = useState([]);\n\n  let toggleMorningFilter = () => {\n    if (morningFilter) {\n      setMorningFilter(false);\n      return;\n    }\n\n    setMorningFilter(true);\n    return;\n  };\n\n  let toggleAfternoonFilter = () => {\n    if (afternoonFilter) {\n      setAfternoonFilter(false);\n      return;\n    }\n\n    setAfternoonFilter(true);\n    return;\n  };\n\n  let toggleEveningFilter = () => {\n    if (eveningFilter) {\n      setEveningFilter(false);\n      return;\n    }\n\n    setEveningFilter(true);\n    return;\n  };\n\n  props.flights.map(el => {\n    flightList.push(el);\n    returnFlightList.push(el);\n  });\n\n  if (flightSelected) {\n    console.log(\"wow ur trip to is selected\");\n  }\n\n  if (returnFlightSelected) {\n    console.log(\"wow way back selected\");\n  } //struct to store flights in a reverse linkedList\n  //pattern for the multi-search algorithm\n\n\n  function makeFlightStruct(e) {\n    var flightRefs = e.split(' ');\n\n    function constructor() {\n      this[flightRefs[0]] = arguments[0];\n      this[flightRefs[1]] = arguments[1];\n    }\n\n    return constructor;\n  }\n\n  function multiSearch() {\n    //todo\n    //create struct where each el has a ref to it's prev except for the start of each search\n    //replace iterating through map to find matches with, iterating through returned database results\n    //\n    //flightList.length = 0;\n    //returnFlightList.length = 0;\n    var FlightPoint = makeFlightStruct(\"prev curr\");\n    props.flights.map(el => {\n      if (el.departure.toLowerCase() == props.searchQuery.departureLocation.toLowerCase()) {\n        if (el.destination.toLowerCase() == props.searchQuery.destinationLocation.toLowerCase()) {\n          var goodFlight = new FlightPoint(null, el);\n          alert(\"test\");\n        } else {\n          props.flights.map(el2 => {\n            if (el2.departure.toLowerCase() == el.departure.toLowerCase()) {\n              if (el2.destination.toLowerCase() == props.searchQuery.destinationLocation.toLowerCase()) {} else {\n                props.flights.map(el3 => {\n                  if (el3.departure.toLowerCase() == el2.departure.toLowerCase() && el3.destination.toLowerCase() == props.searchQuery.destinationLocation.toLowerCase()) {}\n                });\n              }\n            }\n          });\n        }\n      }\n    });\n  }\n\n  function searchFlightList() {\n    flightList.length = 0;\n    returnFlightList.length = 0;\n    props.flights.map(el => {\n      if (!props.searchQuery.flexibleDeparture) {\n        if (el.destination.toLowerCase() == props.searchQuery.destinationLocation.toLowerCase() && el.departure.toLowerCase() == props.searchQuery.departureLocation.toLowerCase() && el.departureDate.getFullYear() == props.searchQuery.soonestDepartureDate.getFullYear() && el.departureDate.getMonth() == props.searchQuery.soonestDepartureDate.getMonth() && el.departureDate.getDate() == props.searchQuery.soonestDepartureDate.getDate()) {\n          if (!morningFilter && !afternoonFilter && !eveningFilter) {\n            flightList.push(el);\n          }\n\n          if (morningFilter) {\n            console.log(\"morning filter active\");\n\n            if (el.departureDate.getHours() >= 0 && el.departureDate.getHours() < 12) {\n              flightList.push(el);\n            }\n          }\n\n          if (afternoonFilter) {\n            if (el.departureDate.getHours() >= 12 && el.departureDate.getHours() < 18) {\n              flightList.push(el);\n            }\n          }\n\n          if (eveningFilter) {\n            if (el.departureDate.getHours() >= 18) {\n              flightList.push(el);\n            }\n          }\n        }\n      } else {\n        if (el.destination.toLowerCase() == props.searchQuery.destinationLocation.toLowerCase() && el.departure.toLowerCase() == props.searchQuery.departureLocation.toLowerCase() && el.departureDate.getFullYear() >= props.searchQuery.soonestDepartureDate.getFullYear() && el.departureDate.getFullYear() <= props.searchQuery.latestDepartureDate.getFullYear() && el.departureDate.getMonth() >= props.searchQuery.soonestDepartureDate.getMonth() && el.departureDate.getMonth() <= props.searchQuery.latestDepartureDate.getMonth() && el.departureDate.getDate() >= props.searchQuery.soonestDepartureDate.getDate() && el.departureDate.getDate() <= props.searchQuery.latestDepartureDate.getDate()) {\n          if (!morningFilter && !afternoonFilter && !eveningFilter) {\n            flightList.push(el);\n          }\n\n          if (morningFilter) {\n            if (el.departureDate.getHours() >= 0 && el.departureDate.getHours() < 12) {\n              flightList.push(el);\n            }\n          }\n\n          if (afternoonFilter) {\n            if (el.departureDate.getHours() >= 12 && el.departureDate.getHours() < 18) {\n              flightList.push(el);\n            }\n          }\n\n          if (eveningFilter) {\n            if (el.departureDate.getHours() >= 18) {\n              flightList.push(el);\n            }\n          }\n        }\n      }\n\n      if (!props.searchQuery.oneWayTrip) {\n        if (!props.searchQuery.flexibleReturn) {\n          if (el.destination.toLowerCase() == props.searchQuery.departureLocation.toLowerCase() && el.departure.toLowerCase() == props.searchQuery.destinationLocation.toLowerCase() && el.departureDate.getFullYear() == props.searchQuery.soonestReturnDate.getFullYear() && el.departureDate.getMonth() == props.searchQuery.soonestReturnDate.getMonth() && el.departureDate.getDate() == props.searchQuery.soonestReturnDate.getDate()) {\n            if (!morningFilter && !afternoonFilter && !eveningFilter) {\n              returnFlightList.push(el);\n            }\n\n            if (morningFilter) {\n              if (el.departureDate.getHours() >= 0 && el.departureDate.getHours() < 12) {\n                returnFlightList.push(el);\n              }\n            }\n\n            if (afternoonFilter) {\n              if (el.departureDate.getHours() >= 12 && el.departureDate.getHours() < 18) {\n                returnFlightList.push(el);\n              }\n            }\n\n            if (eveningFilter) {\n              if (el.departureDate.getHours() >= 18) {\n                returnFlightList.push(el);\n              }\n            }\n          }\n        } else {\n          if (el.destination.toLowerCase() == props.searchQuery.departureLocation.toLowerCase() && el.departure.toLowerCase() == props.searchQuery.destinationLocation.toLowerCase() && el.departureDate.getFullYear() >= props.searchQuery.soonestReturnDate.getFullYear() && el.departureDate.getFullYear() <= props.searchQuery.latestReturnDate.getFullYear() && el.departureDate.getMonth() >= props.searchQuery.soonestReturnDate.getMonth() && el.departureDate.getMonth() <= props.searchQuery.latestReturnDate.getMonth() && el.departureDate.getDate() >= props.searchQuery.soonestReturnDate.getDate() && el.departureDate.getDate() <= props.searchQuery.latestReturnDate.getDate()) {\n            if (!morningFilter && !afternoonFilter && !eveningFilter) {\n              returnFlightList.push(el);\n            }\n\n            if (morningFilter) {\n              if (el.departureDate.getHours() >= 0 && el.departureDate.getHours() < 12) {\n                returnFlightList.push(el);\n              }\n            }\n\n            if (afternoonFilter) {\n              if (el.departureDate.getHours() >= 12 && el.departureDate.getHours() < 18) {\n                returnFlightList.push(el);\n              }\n            }\n\n            if (eveningFilter) {\n              if (el.departureDate.getHours() >= 18) {\n                returnFlightList.push(el);\n              }\n            }\n          }\n        }\n      }\n    });\n  }\n\n  function sort(e) {\n    if (e == \"soonest\") {\n      for (let i = 0; i < flightList.length; i++) {\n        for (let j = 0; j < flightList.length - i - 1; j++) {\n          if (flightList[j + 1].departureDate < flightList[j].departureDate) {\n            [flightList[j + 1], flightList[j]] = [flightList[j], flightList[j + 1]];\n          }\n        }\n      }\n\n      for (let i = 0; i < returnFlightList.length; i++) {\n        for (let j = 0; j < returnFlightList.length - i - 1; j++) {\n          if (returnFlightList[j + 1].departureDate < returnFlightList[j].departureDate) {\n            [returnFlightList[j + 1], returnFlightList[j]] = [returnFlightList[j], returnFlightList[j + 1]];\n          }\n        }\n      }\n    } else if (e == \"latest\") {\n      for (let i = 0; i < flightList.length; i++) {\n        for (let j = 0; j < flightList.length - i - 1; j++) {\n          if (flightList[j + 1].departureDate > flightList[j].departureDate) {\n            [flightList[j + 1], flightList[j]] = [flightList[j], flightList[j + 1]];\n          }\n        }\n      }\n\n      for (let i = 0; i < returnFlightList.length; i++) {\n        for (let j = 0; j < returnFlightList.length - i - 1; j++) {\n          if (returnFlightList[j + 1].departureDate > returnFlightList[j].departureDate) {\n            [returnFlightList[j + 1], returnFlightList[j]] = [returnFlightList[j], returnFlightList[j + 1]];\n          }\n        }\n      }\n    } else if (e == \"lowest price\") {\n      for (let i = 0; i < flightList.length; i++) {\n        for (let j = 0; j < flightList.length - i - 1; j++) {\n          if (flightList[j + 1].price < flightList[j].price) {\n            [flightList[j + 1], flightList[j]] = [flightList[j], flightList[j + 1]];\n          }\n        }\n      }\n\n      for (let i = 0; i < returnFlightList.length; i++) {\n        for (let j = 0; j < returnFlightList.length - i - 1; j++) {\n          if (returnFlightList[j + 1].price < returnFlightList[j].price) {\n            [returnFlightList[j + 1], returnFlightList[j]] = [returnFlightList[j], returnFlightList[j + 1]];\n          }\n        }\n      }\n    } else if (e == \"highest price\") {\n      for (let i = 0; i < flightList.length; i++) {\n        for (let j = 0; j < flightList.length - i - 1; j++) {\n          if (flightList[j + 1].price > flightList[j].price) {\n            [flightList[j + 1], flightList[j]] = [flightList[j], flightList[j + 1]];\n          }\n        }\n      }\n\n      for (let i = 0; i < returnFlightList.length; i++) {\n        for (let j = 0; j < returnFlightList.length - i - 1; j++) {\n          if (returnFlightList[j + 1].price > returnFlightList[j].price) {\n            [returnFlightList[j + 1], returnFlightList[j]] = [returnFlightList[j], returnFlightList[j + 1]];\n          }\n        }\n      }\n    }\n  }\n\n  function Return() {\n    if (props.searchQuery.oneWayTrip) {\n      return null;\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Return Trip\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 417,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n        className: classes.tableList,\n        children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Flight\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 421,\n            columnNumber: 23\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Departure\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 422,\n            columnNumber: 23\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Destination\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 423,\n            columnNumber: 23\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Date\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 424,\n            columnNumber: 23\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Dep\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 425,\n            columnNumber: 23\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Arr\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 426,\n            columnNumber: 23\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 427,\n            columnNumber: 23\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 428,\n            columnNumber: 23\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 420,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: returnFlightList.map(flight => /*#__PURE__*/_jsxDEV(FlightItem, {\n            flightId: flight.flightId,\n            departureDate: flight.departureDate.getDate() + \"/\" + (flight.departureDate.getMonth() + 1) + \"/\" + flight.departureDate.getFullYear(),\n            departureTime: flight.departureTime,\n            arrivalTime: flight.arrivalTime,\n            destination: flight.destination,\n            departure: flight.departure,\n            price: flight.price,\n            return: true,\n            selectedId: selectedReturnFlight.length > 0 ? selectedReturnFlight[0].flightId : \"\",\n            selectFlight: res => res == true ? setReturnFlightSelected(true) : setFlightSelected(true),\n            selFlight: res => setSelectedReturnFlight(res)\n          }, flight.flightId, false, {\n            fileName: _jsxFileName,\n            lineNumber: 432,\n            columnNumber: 23\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 430,\n          columnNumber: 19\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 419,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 416,\n      columnNumber: 11\n    }, this);\n  }\n\n  function bookingFlightHandler() {\n    const flightArr = [];\n\n    if (props.searchQuery.oneWayTrip) {\n      if (flightSelected) {\n        selectedFlight.map(flight => {\n          flightArr.push(flight);\n        }); //move onto next phase\n\n        context.setBookingsSelected(true);\n        console.log(context.bookingsSelected);\n        props.exportFlights(flightArr);\n        return;\n      }\n    } else {\n      if (flightSelected && returnFlightSelected) {\n        selectedFlight.map(flight => {\n          flightArr.push(flight);\n        });\n        selectedReturnFlight.map(flight => {\n          flightArr.push(flight);\n        });\n        context.setBookingsSelected(true);\n        console.log(context.bookingsSelected);\n        props.exportFlights(flightArr);\n        return;\n      }\n    } //some error has occured\n\n\n    console.log(\"you have not selected a return or departure flights\");\n    return;\n  }\n\n  multiSearch();\n  searchFlightList();\n  sort(\"latest\"); //what do need\n  //filters\n  //sort by\n  //\n\n  return /*#__PURE__*/_jsxDEV(Card, {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Trip to Destination\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 515,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.list,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"morningDeparture\",\n        children: \" Morning Departure \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 520,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"checkbox\",\n        id: \"morningDeparture\",\n        onClick: toggleMorningFilter\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 521,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"afternoonDeparture\",\n        children: \" Afternoon Departure \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 523,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"checkbox\",\n        id: \"afternoonDeparture\",\n        onClick: toggleAfternoonFilter\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 524,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"eveningDeparture\",\n        children: \" Evening Departure \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 526,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"checkbox\",\n        id: \"eveningDeparture\",\n        onClick: toggleEveningFilter\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 527,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 518,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n      className: classes.tableList,\n      children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n        children: [/*#__PURE__*/_jsxDEV(\"th\", {\n          children: \"Flight\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 532,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n          children: \"Departure\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 533,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n          children: \"Destination\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 534,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n          children: \"Date\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 535,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n          children: \"Dep\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 536,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n          children: \"Arr\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 537,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"th\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 538,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"th\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 539,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 531,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: flightList.map(flight => /*#__PURE__*/_jsxDEV(FlightItem, {\n          flightId: flight.flightId,\n          departureDate: flight.departureDate.getDate() + \"/\" + (flight.departureDate.getMonth() + 1) + \"/\" + flight.departureDate.getFullYear(),\n          departureTime: flight.departureTime,\n          arrivalTime: flight.arrivalTime,\n          destination: flight.destination,\n          departure: flight.departure,\n          price: flight.price,\n          selectedId: selectedFlight.length > 0 ? selectedFlight[0].flightId : \"\",\n          return: false,\n          selectFlight: res => res == true ? setReturnFlightSelected(true) : setFlightSelected(true),\n          selFlight: res => setSelectedFlight(res)\n        }, flight.flightId, false, {\n          fileName: _jsxFileName,\n          lineNumber: 543,\n          columnNumber: 25\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 541,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 530,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Return, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 562,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: classes.submitButt,\n      onClick: bookingFlightHandler,\n      children: \"Book Flights\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 565,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 514,\n    columnNumber: 9\n  }, this);\n}\n\n_s(FlightList, \"su2B9BK9GApXKAy+0VLbKuiHw9A=\");\n\n_c = FlightList;\nexport default FlightList;\n\nvar _c;\n\n$RefreshReg$(_c, \"FlightList\");","map":{"version":3,"sources":["C:/Users/ewart/OneDrive/Documents/GitHub/flightpub/client/src/frontEnd/components/flights/FlightList.js"],"names":["FlightItem","classes","Card","useState","useContext","FlightPubContext","DropdownList","Button","FlightList","props","context","flightList","setFlightList","returnFlightList","setReturnFlightList","morningFilter","setMorningFilter","afternoonFilter","setAfternoonFilter","eveningFilter","setEveningFilter","flightSelected","setFlightSelected","selectedFlight","setSelectedFlight","returnFlightSelected","setReturnFlightSelected","selectedReturnFlight","setSelectedReturnFlight","toggleMorningFilter","toggleAfternoonFilter","toggleEveningFilter","flights","map","el","push","console","log","makeFlightStruct","e","flightRefs","split","constructor","arguments","multiSearch","FlightPoint","departure","toLowerCase","searchQuery","departureLocation","destination","destinationLocation","goodFlight","alert","el2","el3","searchFlightList","length","flexibleDeparture","departureDate","getFullYear","soonestDepartureDate","getMonth","getDate","getHours","latestDepartureDate","oneWayTrip","flexibleReturn","soonestReturnDate","latestReturnDate","sort","i","j","price","Return","tableList","flight","flightId","departureTime","arrivalTime","res","bookingFlightHandler","flightArr","setBookingsSelected","bookingsSelected","exportFlights","list","submitButt"],"mappings":"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","sourcesContent":["import FlightItem from './FlightItem';\r\nimport classes from './FlightList.module.css';\r\nimport Card from \"../ui/Card\";\r\nimport {useState} from \"react\";\r\nimport {useContext} from 'react';\r\nimport FlightPubContext from \"../../store/FlightPubContext\";\r\n\r\nimport DropdownList from \"react-widgets/DropdownList\";\r\nimport {Button} from \"@mui/material\";\r\n\r\n\r\nfunction FlightList(props) {\r\n\r\n    const context = useContext(FlightPubContext);\r\n\r\n    const [flightList, setFlightList] = useState([]);\r\n    const [returnFlightList, setReturnFlightList] = useState([]);\r\n\r\n    const [morningFilter, setMorningFilter] = useState(false);\r\n    const [afternoonFilter, setAfternoonFilter] = useState(false);\r\n    const [eveningFilter, setEveningFilter] = useState(false);\r\n\r\n    const [flightSelected , setFlightSelected] = useState(false);\r\n    const [selectedFlight, setSelectedFlight] = useState([]);\r\n    const [returnFlightSelected, setReturnFlightSelected] = useState(false);\r\n    const [selectedReturnFlight, setSelectedReturnFlight] = useState([]);\r\n\r\n    let toggleMorningFilter = () =>\r\n    {\r\n        if(morningFilter)\r\n        {\r\n            setMorningFilter(false);\r\n            return;\r\n        }\r\n\r\n        setMorningFilter(true);\r\n        return;\r\n\r\n    }\r\n\r\n    let toggleAfternoonFilter = () =>\r\n    {\r\n        if(afternoonFilter)\r\n        {\r\n            setAfternoonFilter(false);\r\n            return;\r\n        }\r\n\r\n        setAfternoonFilter(true);\r\n        return;\r\n    }\r\n\r\n    let toggleEveningFilter = () =>\r\n    {\r\n        if(eveningFilter)\r\n        {\r\n            setEveningFilter(false);\r\n            return;\r\n        }\r\n\r\n        setEveningFilter(true);\r\n        return;\r\n    }\r\n\r\n    props.flights.map((el) =>\r\n    {\r\n        flightList.push(el);\r\n        returnFlightList.push(el);\r\n    });\r\n\r\n    if(flightSelected)\r\n    {\r\n        console.log(\"wow ur trip to is selected\");\r\n    }\r\n\r\n    if(returnFlightSelected)\r\n    {\r\n        console.log(\"wow way back selected\");\r\n    }\r\n\r\n    //struct to store flights in a reverse linkedList\r\n    //pattern for the multi-search algorithm\r\n    function makeFlightStruct(e)\r\n    {\r\n        var flightRefs = e.split(' ');\r\n\r\n\r\n        function constructor()\r\n        {\r\n            this[flightRefs[0]] = arguments[0];\r\n            this[flightRefs[1]] = arguments[1];\r\n        }\r\n        return constructor;\r\n    }\r\n\r\n    function multiSearch()\r\n    {\r\n        //todo\r\n        //create struct where each el has a ref to it's prev except for the start of each search\r\n        //replace iterating through map to find matches with, iterating through returned database results\r\n        //\r\n        //flightList.length = 0;\r\n        //returnFlightList.length = 0;\r\n\r\n        var FlightPoint = makeFlightStruct(\"prev curr\");\r\n\r\n        props.flights.map((el) => {\r\n\r\n            if(el.departure.toLowerCase() == props.searchQuery.departureLocation.toLowerCase()) {\r\n\r\n                if (el.destination.toLowerCase() == props.searchQuery.destinationLocation.toLowerCase())\r\n                {\r\n                    var goodFlight = new FlightPoint(null, el);\r\n\r\n                    alert(\"test\");\r\n\r\n                }\r\n                else\r\n                {\r\n                    props.flights.map((el2) => {\r\n\r\n                        if(el2.departure.toLowerCase() == el.departure.toLowerCase()) {\r\n\r\n                            if (el2.destination.toLowerCase() == props.searchQuery.destinationLocation.toLowerCase())\r\n                            {\r\n\r\n\r\n                            }\r\n                            else\r\n                            {\r\n                                props.flights.map((el3) => {\r\n\r\n                                    if(el3.departure.toLowerCase() == el2.departure.toLowerCase()\r\n                                        && el3.destination.toLowerCase() == props.searchQuery.destinationLocation.toLowerCase())\r\n                                    {\r\n\r\n                                    }\r\n\r\n                                })\r\n                            }\r\n\r\n                        }\r\n\r\n                    })\r\n                }\r\n\r\n\r\n            }\r\n\r\n        })\r\n    }\r\n\r\n    function searchFlightList()\r\n    {\r\n\r\n        flightList.length = 0;\r\n        returnFlightList.length = 0;\r\n\r\n        props.flights.map((el) =>\r\n        {\r\n\r\n            if(!props.searchQuery.flexibleDeparture)\r\n            {\r\n                if(el.destination.toLowerCase() == props.searchQuery.destinationLocation.toLowerCase()\r\n                    && el.departure.toLowerCase() == props.searchQuery.departureLocation.toLowerCase()\r\n                    && el.departureDate.getFullYear() == props.searchQuery.soonestDepartureDate.getFullYear()\r\n                    && el.departureDate.getMonth() == props.searchQuery.soonestDepartureDate.getMonth()\r\n                    && el.departureDate.getDate() == props.searchQuery.soonestDepartureDate.getDate())\r\n                {\r\n                    if(!morningFilter && !afternoonFilter && !eveningFilter)\r\n                    {\r\n                        flightList.push(el);\r\n                    }\r\n\r\n                    if(morningFilter)\r\n                    {\r\n                        console.log(\"morning filter active\");\r\n\r\n                        if(el.departureDate.getHours() >= 0 && el.departureDate.getHours() < 12)\r\n                        {\r\n                            flightList.push(el);\r\n                        }\r\n\r\n                    }\r\n                    if(afternoonFilter)\r\n                    {\r\n                        if(el.departureDate.getHours() >= 12  && el.departureDate.getHours() < 18)\r\n                        {\r\n                            flightList.push(el);\r\n                        }\r\n                    }\r\n                    if(eveningFilter)\r\n                    {\r\n                        if(el.departureDate.getHours() >= 18)\r\n                        {\r\n                            flightList.push(el);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            else\r\n            {\r\n                if(el.destination.toLowerCase() == props.searchQuery.destinationLocation.toLowerCase()\r\n                    && el.departure.toLowerCase() == props.searchQuery.departureLocation.toLowerCase()\r\n                    && el.departureDate.getFullYear() >= props.searchQuery.soonestDepartureDate.getFullYear()\r\n                    && el.departureDate.getFullYear() <= props.searchQuery.latestDepartureDate.getFullYear()\r\n                    && el.departureDate.getMonth() >= props.searchQuery.soonestDepartureDate.getMonth()\r\n                    && el.departureDate.getMonth() <= props.searchQuery.latestDepartureDate.getMonth()\r\n                    && el.departureDate.getDate() >= props.searchQuery.soonestDepartureDate.getDate()\r\n                    && el.departureDate.getDate() <= props.searchQuery.latestDepartureDate.getDate())\r\n                {\r\n\r\n                    if(!morningFilter && !afternoonFilter && !eveningFilter)\r\n                    {\r\n                        flightList.push(el);\r\n                    }\r\n\r\n                    if(morningFilter)\r\n                    {\r\n                        if(el.departureDate.getHours() >= 0 && el.departureDate.getHours() < 12)\r\n                        {\r\n                            flightList.push(el);\r\n                        }\r\n                    }\r\n                    if(afternoonFilter)\r\n                    {\r\n                        if(el.departureDate.getHours() >= 12  && el.departureDate.getHours() < 18)\r\n                        {\r\n                            flightList.push(el);\r\n                        }\r\n                    }\r\n                    if(eveningFilter)\r\n                    {\r\n                        if(el.departureDate.getHours() >= 18)\r\n                        {\r\n                            flightList.push(el);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            if(!props.searchQuery.oneWayTrip) {\r\n                if (!props.searchQuery.flexibleReturn) {\r\n                    if (el.destination.toLowerCase() == props.searchQuery.departureLocation.toLowerCase()\r\n                        && el.departure.toLowerCase() == props.searchQuery.destinationLocation.toLowerCase()\r\n                        && el.departureDate.getFullYear() == props.searchQuery.soonestReturnDate.getFullYear()\r\n                        && el.departureDate.getMonth() == props.searchQuery.soonestReturnDate.getMonth()\r\n                        && el.departureDate.getDate() == props.searchQuery.soonestReturnDate.getDate()) {\r\n                        if (!morningFilter && !afternoonFilter && !eveningFilter) {\r\n                            returnFlightList.push(el);\r\n                        }\r\n\r\n                        if (morningFilter) {\r\n                            if (el.departureDate.getHours() >= 0 && el.departureDate.getHours() < 12) {\r\n                                returnFlightList.push(el);\r\n                            }\r\n                        }\r\n                        if (afternoonFilter) {\r\n                            if (el.departureDate.getHours() >= 12 && el.departureDate.getHours() < 18) {\r\n                                returnFlightList.push(el);\r\n                            }\r\n                        }\r\n                        if (eveningFilter) {\r\n                            if (el.departureDate.getHours() >= 18) {\r\n                                returnFlightList.push(el);\r\n                            }\r\n                        }\r\n                    }\r\n                } else {\r\n                    if (el.destination.toLowerCase() == props.searchQuery.departureLocation.toLowerCase()\r\n                        && el.departure.toLowerCase() == props.searchQuery.destinationLocation.toLowerCase()\r\n                        && el.departureDate.getFullYear() >= props.searchQuery.soonestReturnDate.getFullYear()\r\n                        && el.departureDate.getFullYear() <= props.searchQuery.latestReturnDate.getFullYear()\r\n                        && el.departureDate.getMonth() >= props.searchQuery.soonestReturnDate.getMonth()\r\n                        && el.departureDate.getMonth() <= props.searchQuery.latestReturnDate.getMonth()\r\n                        && el.departureDate.getDate() >= props.searchQuery.soonestReturnDate.getDate()\r\n                        && el.departureDate.getDate() <= props.searchQuery.latestReturnDate.getDate()) {\r\n\r\n                        if (!morningFilter && !afternoonFilter && !eveningFilter) {\r\n                            returnFlightList.push(el);\r\n                        }\r\n\r\n                        if (morningFilter) {\r\n                            if (el.departureDate.getHours() >= 0 && el.departureDate.getHours() < 12) {\r\n                                returnFlightList.push(el);\r\n                            }\r\n                        }\r\n                        if (afternoonFilter) {\r\n                            if (el.departureDate.getHours() >= 12 && el.departureDate.getHours() < 18) {\r\n                                returnFlightList.push(el);\r\n                            }\r\n                        }\r\n                        if (eveningFilter) {\r\n                            if (el.departureDate.getHours() >= 18) {\r\n                                returnFlightList.push(el);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        })\r\n\r\n\r\n    }\r\n\r\n    function sort(e)\r\n    {\r\n        if(e == \"soonest\")\r\n        {\r\n            for(let i = 0; i < flightList.length; i++)\r\n            {\r\n                for(let j = 0; j < flightList.length - i - 1; j++)\r\n                {\r\n                    if(flightList[j+1].departureDate < flightList[j].departureDate)\r\n                    {\r\n                        [flightList[j+1], flightList[j]] = [flightList[j], flightList[j+1]];\r\n                    }\r\n                }\r\n            }\r\n\r\n            for(let i = 0; i < returnFlightList.length; i++)\r\n            {\r\n                for(let j = 0; j < returnFlightList.length - i - 1; j++)\r\n                {\r\n                    if(returnFlightList[j+1].departureDate < returnFlightList[j].departureDate)\r\n                    {\r\n                        [returnFlightList[j+1], returnFlightList[j]] = [returnFlightList[j], returnFlightList[j+1]];\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        else if(e == \"latest\")\r\n        {\r\n            for(let i = 0; i < flightList.length; i++)\r\n            {\r\n                for(let j = 0; j < flightList.length - i - 1; j++)\r\n                {\r\n                    if(flightList[j+1].departureDate > flightList[j].departureDate)\r\n                    {\r\n                        [flightList[j+1], flightList[j]] = [flightList[j], flightList[j+1]];\r\n                    }\r\n                }\r\n            }\r\n\r\n            for(let i = 0; i < returnFlightList.length; i++)\r\n            {\r\n                for(let j = 0; j < returnFlightList.length - i - 1; j++)\r\n                {\r\n                    if(returnFlightList[j+1].departureDate > returnFlightList[j].departureDate)\r\n                    {\r\n                        [returnFlightList[j+1], returnFlightList[j]] = [returnFlightList[j], returnFlightList[j+1]];\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        else if(e == \"lowest price\")\r\n        {\r\n            for(let i = 0; i < flightList.length; i++)\r\n            {\r\n                for(let j = 0; j < flightList.length - i - 1; j++)\r\n                {\r\n                    if(flightList[j+1].price < flightList[j].price)\r\n                    {\r\n                        [flightList[j+1], flightList[j]] = [flightList[j], flightList[j+1]];\r\n                    }\r\n                }\r\n            }\r\n\r\n            for(let i = 0; i < returnFlightList.length; i++)\r\n            {\r\n                for(let j = 0; j < returnFlightList.length - i - 1; j++)\r\n                {\r\n                    if(returnFlightList[j+1].price < returnFlightList[j].price)\r\n                    {\r\n                        [returnFlightList[j+1], returnFlightList[j]] = [returnFlightList[j], returnFlightList[j+1]];\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        else if(e == \"highest price\")\r\n        {\r\n            for(let i = 0; i < flightList.length; i++)\r\n            {\r\n                for(let j = 0; j < flightList.length - i - 1; j++)\r\n                {\r\n                    if(flightList[j+1].price > flightList[j].price)\r\n                    {\r\n                        [flightList[j+1], flightList[j]] = [flightList[j], flightList[j+1]];\r\n                    }\r\n                }\r\n            }\r\n\r\n            for(let i = 0; i < returnFlightList.length; i++)\r\n            {\r\n                for(let j = 0; j < returnFlightList.length - i - 1; j++)\r\n                {\r\n                    if(returnFlightList[j+1].price > returnFlightList[j].price)\r\n                    {\r\n                        [returnFlightList[j+1], returnFlightList[j]] = [returnFlightList[j], returnFlightList[j+1]];\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n    function Return()\r\n    {\r\n        if(props.searchQuery.oneWayTrip)\r\n        {\r\n            return null;\r\n        }\r\n\r\n        return (\r\n          <div>\r\n              <h2>Return Trip</h2>\r\n\r\n              <table className={classes.tableList}>\r\n                  <tr>\r\n                      <th>Flight</th>\r\n                      <th>Departure</th>\r\n                      <th>Destination</th>\r\n                      <th>Date</th>\r\n                      <th>Dep</th>\r\n                      <th>Arr</th>\r\n                      <th></th>\r\n                      <th></th>\r\n                  </tr>\r\n                  <tbody>\r\n                  {returnFlightList.map((flight) => (\r\n                      <FlightItem\r\n                          key={flight.flightId}\r\n                          flightId={flight.flightId}\r\n                          departureDate={flight.departureDate.getDate() + \"/\" + (flight.departureDate.getMonth() + 1)+ \"/\" + flight.departureDate.getFullYear()}\r\n                          departureTime={flight.departureTime}\r\n                          arrivalTime={flight.arrivalTime}\r\n                          destination={flight.destination}\r\n                          departure={flight.departure}\r\n                          price={flight.price}\r\n                          return={true}\r\n                          selectedId={selectedReturnFlight.length > 0 ? selectedReturnFlight[0].flightId : \"\"}\r\n                          selectFlight={res => res == true ? setReturnFlightSelected(true) : setFlightSelected(true)}\r\n                          selFlight={res => setSelectedReturnFlight(res)}\r\n                      />\r\n\r\n                  ))}\r\n                  </tbody>\r\n              </table>\r\n          </div>\r\n        );\r\n    }\r\n\r\n    function bookingFlightHandler()\r\n    {\r\n        const flightArr = [];\r\n\r\n        if(props.searchQuery.oneWayTrip)\r\n        {\r\n\r\n           if(flightSelected)\r\n           {\r\n               selectedFlight.map((flight) =>\r\n               {\r\n                   flightArr.push(flight);\r\n               })\r\n\r\n               //move onto next phase\r\n\r\n               context.setBookingsSelected(true);\r\n               console.log(context.bookingsSelected);\r\n               props.exportFlights(flightArr);\r\n               return;\r\n           }\r\n        }\r\n        else\r\n        {\r\n            if(flightSelected && returnFlightSelected)\r\n            {\r\n                selectedFlight.map((flight) =>\r\n                {\r\n                    flightArr.push(flight);\r\n                })\r\n                selectedReturnFlight.map((flight) =>\r\n                {\r\n                    flightArr.push(flight);\r\n                })\r\n\r\n                context.setBookingsSelected(true);\r\n                console.log(context.bookingsSelected);\r\n                props.exportFlights(flightArr);\r\n                return;\r\n            }\r\n        }\r\n\r\n        //some error has occured\r\n        console.log(\"you have not selected a return or departure flights\");\r\n        return;\r\n    }\r\n\r\n    multiSearch();\r\n    searchFlightList();\r\n    sort(\"latest\");\r\n\r\n    //what do need\r\n    //filters\r\n    //sort by\r\n\r\n    //\r\n\r\n\r\n    return (\r\n\r\n        <Card>\r\n            <h2>Trip to Destination</h2>\r\n\r\n\r\n            <div className={classes.list}>\r\n\r\n                <label htmlFor='morningDeparture'> Morning Departure </label>\r\n                <input type='checkbox' id='morningDeparture' onClick={toggleMorningFilter} />\r\n\r\n                <label htmlFor='afternoonDeparture'> Afternoon Departure </label>\r\n                <input type='checkbox' id='afternoonDeparture' onClick={toggleAfternoonFilter} />\r\n\r\n                <label htmlFor='eveningDeparture'> Evening Departure </label>\r\n                <input type='checkbox' id='eveningDeparture' onClick={toggleEveningFilter}/>\r\n            </div>\r\n\r\n            <table className={classes.tableList}>\r\n                <tr>\r\n                    <th>Flight</th>\r\n                    <th>Departure</th>\r\n                    <th>Destination</th>\r\n                    <th>Date</th>\r\n                    <th>Dep</th>\r\n                    <th>Arr</th>\r\n                    <th></th>\r\n                    <th></th>\r\n                </tr>\r\n                <tbody>\r\n                    {flightList.map((flight) => (\r\n                        <FlightItem\r\n                            key={flight.flightId}\r\n                            flightId={flight.flightId}\r\n                            departureDate={flight.departureDate.getDate() + \"/\" + (flight.departureDate.getMonth() + 1)+ \"/\" + flight.departureDate.getFullYear()}\r\n                            departureTime={flight.departureTime}\r\n                            arrivalTime={flight.arrivalTime}\r\n                            destination={flight.destination}\r\n                            departure={flight.departure}\r\n                            price={flight.price}\r\n                            selectedId={selectedFlight.length > 0 ? selectedFlight[0].flightId : \"\"}\r\n                            return={false}\r\n                            selectFlight={res => res == true ? setReturnFlightSelected(true) : setFlightSelected(true)}\r\n                            selFlight={res => setSelectedFlight(res)}\r\n                        />\r\n\r\n                    ))}\r\n                </tbody>\r\n            </table>\r\n\r\n            <Return />\r\n\r\n\r\n            <button className={classes.submitButt} onClick={bookingFlightHandler}>\r\n                Book Flights\r\n            </button>\r\n\r\n        </Card>\r\n\r\n    );\r\n}\r\n\r\nexport default FlightList;"]},"metadata":{},"sourceType":"module"}