{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ewart\\\\OneDrive\\\\Documents\\\\GitHub\\\\flightpub\\\\client\\\\src\\\\App.js\",\n    _s = $RefreshSig$();\n\nimport { Routes, Route } from 'react-router-dom';\nimport axios from 'axios';\nimport FlightPubHome from './frontEnd/pages/FlightPubHome';\nimport MapPage from './frontEnd/pages/Map';\nimport BookingsPage from './frontEnd/pages/Bookings';\nimport Layout from './frontEnd/components/layout/Layout';\nimport FlightPubContext from './frontEnd/store/FlightPubContext';\nimport { useDarkMode } from \"./frontEnd/components/DarkMode/DarkMode\";\nimport { useState, useEffect, createContext } from \"react\";\nimport LoginPage from \"./frontEnd/pages/Login\";\nimport RegisterPage from \"./frontEnd/pages/Register\";\nimport AccountPage from \"./frontEnd/pages/Account\";\nimport ProfilePage from \"./frontEnd/pages/Profile\";\nimport { GlobalStyles, darkTheme, lightTheme } from \"./frontEnd/components/DarkMode/darkmodestyle\";\nimport styled, { ThemeProvider } from \"styled-components\";\nimport { ToggleButton } from \"./frontEnd/components/DarkMode/ToggleButton\";\nimport useFetch from \"./hooks/useFetch\"; //import React from \"@types/react\";\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const UserContext = /*#__PURE__*/createContext({});\n\nfunction App() {\n  _s();\n\n  const [flights, setFlights] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [userSession, setUserSession] = useState(true);\n  const [authenticated, setAuthenticated] = useState(false);\n  const [searched, setSearched] = useState(false);\n  const [bookingsSelected, setBookingsSelected] = useState(false);\n  const [user, setUser] = useState(null);\n  const [userDetails, setUserDetails] = useState(null);\n  const [lat, setLat] = useState(0);\n  const [long, setLong] = useState(0);\n  const [weatherData, setWeatherData] = useState([]);\n  const [theme, toggleTheme] = useDarkMode();\n  const themeMode = theme === \"light\" ? lightTheme : darkTheme;\n  useEffect(() => {\n    const fetchData = async () => {\n      navigator.geolocation.getCurrentPosition(function (position) {\n        setLat(position.coords.latitude);\n        setLong(position.coords.longitude);\n      });\n      await fetch(`${process.env.REACT_APP_API_URL}/weather/?lat=${lat}&lon=${long}&units=metric&APPID=${process.env.REACT_APP_API_KEY}`).then(res => res.json()).then(result => {\n        setWeatherData(result); //console.log(result);\n      }); //console.log(weatherData);\n    };\n\n    fetchData();\n  }, [lat, long, setWeatherData]);\n  useEffect(() => {\n    const fetchUserAuth = async () => {\n      try {\n        setLoading(true);\n        const res = await fetch('/user/isAuth', {\n          mode: 'cors'\n        });\n\n        if (!res.ok) {\n          console.log('auth not ok');\n          setUserSession(false);\n          return setLoading(false);\n        }\n\n        const data = await res.json();\n        setUserSession(data);\n        setLoading(false);\n        setUser(data.userName);\n        console.log(data.userName);\n      } catch (error) {\n        setLoading(false);\n        console.log('There was an error authenticating user', error);\n        return;\n      }\n    };\n\n    fetchUserAuth();\n  }, [user]); // useEffect(() => {\n  //     const fetchFlights = async () => {\n  //         try {\n  //             setLoading(true);\n  //             const res = await fetch('/flight/')\n  //             if(!res.ok) {\n  //                 console.log(res)\n  //                 console.log('flights not ok')\n  //                 return setLoading(false);\n  //             }\n  //             const data = await res.json();\n  //             setFlights(data)\n  //         }catch (error){\n  //             setLoading(false)\n  //             console.log('There was an error fetching flights',error);\n  //             return\n  //         }\n  //     }\n  //     fetchFlights()\n  // },[])\n\n  return /*#__PURE__*/_jsxDEV(UserContext.Provider, {\n    value: userSession,\n    children: /*#__PURE__*/_jsxDEV(ThemeProvider, {\n      theme: themeMode,\n      children: /*#__PURE__*/_jsxDEV(FlightPubContext.Provider, {\n        value: {\n          flights,\n          setFlights,\n          authenticated,\n          setAuthenticated,\n          searched,\n          setSearched,\n          bookingsSelected,\n          setBookingsSelected,\n          setUser,\n          userDetails,\n          setUserDetails,\n          lat,\n          setLat,\n          long,\n          setLong,\n          weatherData,\n          setWeatherData\n        },\n        children: [/*#__PURE__*/_jsxDEV(GlobalStyles, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(ToggleButton, {\n          theme: theme,\n          toggleTheme: toggleTheme\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Layout, {\n          children: /*#__PURE__*/_jsxDEV(Routes, {\n            children: [/*#__PURE__*/_jsxDEV(Route, {\n              path: \"/\",\n              element: /*#__PURE__*/_jsxDEV(FlightPubHome, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 118,\n                columnNumber: 42\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/bookings\",\n              element: /*#__PURE__*/_jsxDEV(BookingsPage, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 119,\n                columnNumber: 50\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/map\",\n              element: /*#__PURE__*/_jsxDEV(MapPage, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 120,\n                columnNumber: 45\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/login\",\n              element: /*#__PURE__*/_jsxDEV(LoginPage, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 121,\n                columnNumber: 49\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/register\",\n              element: /*#__PURE__*/_jsxDEV(RegisterPage, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 122,\n                columnNumber: 50\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/account\",\n              element: /*#__PURE__*/_jsxDEV(AccountPage, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 123,\n                columnNumber: 49\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 123,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/profile\",\n              element: /*#__PURE__*/_jsxDEV(ProfilePage, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 124,\n                columnNumber: 49\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 109,\n    columnNumber: 9\n  }, this);\n}\n\n_s(App, \"X9bZBF5KehV5OEfoDRnL+Zg/+1o=\", false, function () {\n  return [useDarkMode];\n});\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["C:/Users/ewart/OneDrive/Documents/GitHub/flightpub/client/src/App.js"],"names":["Routes","Route","axios","FlightPubHome","MapPage","BookingsPage","Layout","FlightPubContext","useDarkMode","useState","useEffect","createContext","LoginPage","RegisterPage","AccountPage","ProfilePage","GlobalStyles","darkTheme","lightTheme","styled","ThemeProvider","ToggleButton","useFetch","UserContext","App","flights","setFlights","loading","setLoading","userSession","setUserSession","authenticated","setAuthenticated","searched","setSearched","bookingsSelected","setBookingsSelected","user","setUser","userDetails","setUserDetails","lat","setLat","long","setLong","weatherData","setWeatherData","theme","toggleTheme","themeMode","fetchData","navigator","geolocation","getCurrentPosition","position","coords","latitude","longitude","fetch","process","env","REACT_APP_API_URL","REACT_APP_API_KEY","then","res","json","result","fetchUserAuth","mode","ok","console","log","data","userName","error"],"mappings":"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","sourcesContent":["import { Routes, Route  } from 'react-router-dom';\r\nimport axios from 'axios';\r\n\r\nimport FlightPubHome from './frontEnd/pages/FlightPubHome';\r\nimport MapPage from './frontEnd/pages/Map';\r\nimport BookingsPage from './frontEnd/pages/Bookings';\r\nimport Layout from './frontEnd/components/layout/Layout';\r\nimport FlightPubContext from './frontEnd/store/FlightPubContext';\r\n\r\nimport {useDarkMode} from \"./frontEnd/components/DarkMode/DarkMode\";\r\nimport {useState, useEffect, createContext} from \"react\";\r\nimport LoginPage from \"./frontEnd/pages/Login\";\r\nimport RegisterPage from \"./frontEnd/pages/Register\";\r\nimport AccountPage from \"./frontEnd/pages/Account\";\r\nimport ProfilePage from \"./frontEnd/pages/Profile\";\r\n\r\nimport {\r\n    GlobalStyles,\r\n    darkTheme,\r\n    lightTheme,\r\n} from \"./frontEnd/components/DarkMode/darkmodestyle\";\r\nimport styled, {ThemeProvider} from \"styled-components\";\r\nimport {ToggleButton} from \"./frontEnd/components/DarkMode/ToggleButton\";\r\nimport useFetch from \"./hooks/useFetch\";\r\n//import React from \"@types/react\";\r\n\r\nexport const UserContext = createContext({});\r\n\r\nfunction App() {\r\n    const [flights,setFlights] = useState([])\r\n    const [loading,setLoading] = useState(true);\r\n    const [userSession,setUserSession] = useState(true);\r\n    const [authenticated, setAuthenticated] = useState (false);\r\n    const [searched, setSearched] = useState (false);\r\n    const [bookingsSelected, setBookingsSelected] = useState(false);\r\n    const [user,setUser] = useState(null);\r\n    const [userDetails,setUserDetails] = useState(null);\r\n    const [lat, setLat] = useState(0);\r\n    const [long, setLong] = useState(0);\r\n    const [weatherData,setWeatherData] = useState([]);\r\n    const [theme, toggleTheme] = useDarkMode();\r\n    const themeMode = theme === \"light\" ? lightTheme : darkTheme;\r\n\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            navigator.geolocation.getCurrentPosition(function(position) {\r\n                setLat(position.coords.latitude);\r\n                setLong(position.coords.longitude);\r\n            });\r\n\r\n            await fetch(`${process.env.REACT_APP_API_URL}/weather/?lat=${lat}&lon=${long}&units=metric&APPID=${process.env.REACT_APP_API_KEY}`)\r\n                .then(res => res.json())\r\n                .then(result => {\r\n                    setWeatherData(result)\r\n                    //console.log(result);\r\n                });\r\n            //console.log(weatherData);\r\n        }\r\n        fetchData();\r\n\r\n    }, [lat,long,setWeatherData])\r\n\r\n    useEffect(() => {\r\n        const fetchUserAuth = async () => {\r\n            try {\r\n                setLoading(true);\r\n                const res = await fetch ('/user/isAuth', { mode: 'cors' })\r\n                if(!res.ok) {\r\n                    console.log('auth not ok')\r\n                    setUserSession(false)\r\n                    return setLoading(false);\r\n                }\r\n                const data = await res.json();\r\n                setUserSession(data);\r\n                setLoading(false)\r\n                setUser(data.userName)\r\n                console.log(data.userName)\r\n            }catch (error){\r\n                setLoading(false)\r\n                console.log('There was an error authenticating user',error);\r\n                return\r\n            }\r\n        }\r\n        fetchUserAuth()\r\n    },[user])\r\n    // useEffect(() => {\r\n    //     const fetchFlights = async () => {\r\n    //         try {\r\n    //             setLoading(true);\r\n    //             const res = await fetch('/flight/')\r\n    //             if(!res.ok) {\r\n    //                 console.log(res)\r\n    //                 console.log('flights not ok')\r\n    //                 return setLoading(false);\r\n    //             }\r\n    //             const data = await res.json();\r\n    //             setFlights(data)\r\n    //         }catch (error){\r\n    //             setLoading(false)\r\n    //             console.log('There was an error fetching flights',error);\r\n    //             return\r\n    //         }\r\n    //     }\r\n    //     fetchFlights()\r\n    // },[])\r\n\r\n    return (\r\n        <UserContext.Provider value={userSession}>\r\n\r\n        <ThemeProvider theme={themeMode}>\r\n\r\n        <FlightPubContext.Provider value={{flights,setFlights,authenticated,setAuthenticated,searched,setSearched,bookingsSelected,setBookingsSelected,setUser,userDetails,setUserDetails,lat,setLat,long,setLong,weatherData,setWeatherData }}>\r\n        <GlobalStyles />\r\n        <ToggleButton theme={theme} toggleTheme={toggleTheme} />\r\n        <Layout>\r\n            <Routes>\r\n                <Route path='/' element={<FlightPubHome />} />\r\n                <Route path='/bookings' element={<BookingsPage />} />\r\n                <Route path='/map' element={<MapPage />} />\r\n                <Route path='/login' element = {<LoginPage />} />\r\n                <Route path='/register' element={<RegisterPage />} />\r\n                <Route path='/account' element={<AccountPage />} />\r\n                <Route path='/profile' element={<ProfilePage />} />\r\n            </Routes>\r\n        </Layout>\r\n        </FlightPubContext.Provider>\r\n        </ThemeProvider>\r\n        </UserContext.Provider>\r\n    );\r\n}\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}