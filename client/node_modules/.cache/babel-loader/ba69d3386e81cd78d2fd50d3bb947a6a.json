{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ewart\\\\OneDrive\\\\Documents\\\\GitHub\\\\flightpub\\\\client\\\\src\\\\frontEnd\\\\components\\\\layout\\\\MainNavigation.js\",\n    _s = $RefreshSig$();\n\nimport { Link } from 'react-router-dom';\nimport classes from './MainNavigation.module.css';\nimport { useContext } from \"react\";\nimport FlightPubContext from \"../../store/FlightPubContext\";\nimport { useNavigate } from \"react-router\";\nimport { GiCommercialAirplane } from \"react-icons/gi\";\nimport ProfilePage from \"../../pages/Profile\";\nimport { UserContext } from '../../../App';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction MainNavigation() {\n  _s();\n\n  const navigate = useNavigate();\n  const context = useContext(FlightPubContext);\n  const otherContext = useContext(UserContext);\n  let loginContent;\n  let welcomeContent;\n  let wishlistContent;\n  let profileContent;\n  let registerContent;\n\n  const Logout = async (req, res) => {\n    try {\n      const res = await fetch('/user/logoutUser', {\n        method: 'DELETE',\n        headers: {\n          'Content-Type': 'application/json'\n        } // body: JSON.stringify({\n        //     email: otherContext.email,\n        //     password: otherContext.password\n        // }),\n\n      });\n      /*.then(res=>res.json())\r\n      .then(data=>alert(data.msg))*/\n\n      if (!res.ok) {\n        const error = await res.json();\n        return;\n      }\n\n      const data = await res.json(); //console.log(data)\n\n      context.setUser(null);\n      navigate('/'); //otherContext.userSession.setUser(false)\n      // this is just a visual feedback for user for this demo\n      // this will not be an error, rather we will show a different UI or redirect user to dashboard\n      // ideally we also want a way to confirm their email or identity\n    } catch (error) {\n      console.log(error);\n    }\n  }; //console.log(otherContext.user)\n\n\n  if (otherContext) {\n    loginContent = /*#__PURE__*/_jsxDEV(\"li\", {\n      children: /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/\",\n        onClick: Logout,\n        children: \"Logout\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 28\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 24\n    }, this);\n    welcomeContent = /*#__PURE__*/_jsxDEV(\"li\", {\n      children: [\"Welcome \", /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/profile\",\n        children: otherContext.userName\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 38\n      }, this), \"!\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 26\n    }, this); //welcomeContent = <li>Welcome <Link to='/profile' >{otherContext.userName}</Link>!<br/>{context.weatherData.name}</li>;\n\n    wishlistContent = /*#__PURE__*/_jsxDEV(\"li\", {\n      children: [\" \", /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/wishlist\",\n        children: \" \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 32\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 27\n    }, this);\n    profileContent = /*#__PURE__*/_jsxDEV(\"li\", {\n      children: /*#__PURE__*/_jsxDEV(Link, {\n        to: \"profile\",\n        children: \"Profile\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 30\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 26\n    }, this);\n    registerContent = null;\n  } else {\n    loginContent = /*#__PURE__*/_jsxDEV(\"li\", {\n      children: /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/login\",\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 28\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 24\n    }, this);\n    welcomeContent = /*#__PURE__*/_jsxDEV(\"li\", {\n      children: \"Welcome Guest!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 26\n    }, this);\n    registerContent = /*#__PURE__*/_jsxDEV(\"li\", {\n      children: /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/register\",\n        children: \"Register\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 31\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 27\n    }, this);\n    profileContent = null;\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"header\", {\n    className: classes.header,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.logo,\n      children: [/*#__PURE__*/_jsxDEV(GiCommercialAirplane, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 43\n      }, this), \" FlightPub\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n      children: /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: [welcomeContent, /*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/\",\n            children: \"Home\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/bookings\",\n            children: \"My Bookings\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/map\",\n            children: \"Map\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 21\n        }, this), loginContent, registerContent, wishlistContent, profileContent]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 9\n  }, this);\n}\n\n_s(MainNavigation, \"qN/oBXEQ3WTE+/iWQvOFxVXYaIc=\", false, function () {\n  return [useNavigate];\n});\n\n_c = MainNavigation;\nexport default MainNavigation;\n\nvar _c;\n\n$RefreshReg$(_c, \"MainNavigation\");","map":{"version":3,"sources":["C:/Users/ewart/OneDrive/Documents/GitHub/flightpub/client/src/frontEnd/components/layout/MainNavigation.js"],"names":["Link","classes","useContext","FlightPubContext","useNavigate","GiCommercialAirplane","ProfilePage","UserContext","MainNavigation","navigate","context","otherContext","loginContent","welcomeContent","wishlistContent","profileContent","registerContent","Logout","req","res","fetch","method","headers","ok","error","json","data","setUser","console","log","userName","header","logo"],"mappings":"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","sourcesContent":["import {Link} from 'react-router-dom';\r\n\r\nimport classes from './MainNavigation.module.css';\r\nimport {useContext} from \"react\";\r\nimport FlightPubContext from \"../../store/FlightPubContext\";\r\nimport {useNavigate} from \"react-router\";\r\nimport { GiCommercialAirplane } from \"react-icons/gi\";\r\nimport ProfilePage from \"../../pages/Profile\";\r\nimport {UserContext} from '../../../App'\r\n\r\nfunction MainNavigation() {\r\n    const navigate = useNavigate()\r\n    const  context = useContext(FlightPubContext);\r\n    const otherContext = useContext(UserContext);\r\n    let loginContent;\r\n    let welcomeContent;\r\n    let wishlistContent;\r\n    let profileContent;\r\n    let registerContent;\r\n\r\n    const Logout = async (req,res) => {\r\n        try {\r\n            const res = await fetch('/user/logoutUser', {\r\n                method: 'DELETE',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                 },\r\n                // body: JSON.stringify({\r\n                //     email: otherContext.email,\r\n                //     password: otherContext.password\r\n                // }),\r\n            })\r\n            /*.then(res=>res.json())\r\n            .then(data=>alert(data.msg))*/\r\n\r\n            if (!res.ok) {\r\n                const error = await res.json()\r\n                return\r\n            }\r\n            const data = await res.json()\r\n            //console.log(data)\r\n            context.setUser(null)\r\n            navigate('/')\r\n            //otherContext.userSession.setUser(false)\r\n\r\n            // this is just a visual feedback for user for this demo\r\n            // this will not be an error, rather we will show a different UI or redirect user to dashboard\r\n            // ideally we also want a way to confirm their email or identity\r\n\r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n    }\r\n    //console.log(otherContext.user)\r\n    if(otherContext){\r\n        loginContent = <li><Link to='/' onClick={Logout}>Logout</Link></li>;\r\n        welcomeContent = <li>Welcome <Link to='/profile' >{otherContext.userName}</Link>!</li>;\r\n        //welcomeContent = <li>Welcome <Link to='/profile' >{otherContext.userName}</Link>!<br/>{context.weatherData.name}</li>;\r\n        wishlistContent = <li> <Link to='/wishlist'> </Link></li>\r\n        profileContent = <li><Link to='profile'>Profile</Link></li>;\r\n        registerContent = null;\r\n    }else{\r\n        loginContent = <li><Link to='/login'>Login</Link></li>;\r\n        welcomeContent = <li>Welcome Guest!</li>\r\n        registerContent = <li><Link to='/register'>Register</Link></li>;\r\n        profileContent = null;\r\n    }\r\n\r\n    return (\r\n        <header className={classes.header}>\r\n            <div className={classes.logo}><GiCommercialAirplane/> FlightPub</div>\r\n            <nav>\r\n                <ul>\r\n                    {welcomeContent}\r\n                    <li>\r\n                        <Link to='/'>Home</Link>\r\n                    </li>\r\n                    <li>\r\n                        <Link to='/bookings'>My Bookings</Link>\r\n                    </li>\r\n                    <li>\r\n                        <Link to='/map'>Map</Link>\r\n                    </li>\r\n                        {loginContent}\r\n                        {registerContent}\r\n                        {wishlistContent}\r\n                        {profileContent}\r\n\r\n                </ul>\r\n            </nav>\r\n        </header>\r\n    );\r\n}\r\n\r\nexport default MainNavigation;"]},"metadata":{},"sourceType":"module"}